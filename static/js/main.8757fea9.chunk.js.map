{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/CustomLoader/CustomLoader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/CustomLoader/CustomLoader.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","utils/pixabayApi/pixabayApI.js","components/App/App.js","index.js"],"names":["module","exports","CustomLoader","type","color","height","width","className","styles","Loader","Searchbar","searchFormSubmit","useState","searchInput","setSearchInput","onSubmit","event","preventDefault","normalizedSearchInput","trim","toast","error","name","value","onChange","target","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","src","alt","onClick","image","data-id","data-name","defaultProps","ImageGallery","images","toggleModal","map","webformatURL","tags","Button","Modal","Overlay","largeImageURL","API_KEY","axios","defaults","baseURL","pixabayApiRequest","userQuery","page","per_page","image_type","orientation","request","then","data","hits","catch","massage","initialState","isLoading","reducer","state","action","payload","Error","App","useReducer","dispatch","useEffect","newImages","finally","scrollToButton","window","addEventListener","closeModal","code","removeEventListener","scrollTo","top","document","documentElement","scrollHeight","behavior","dataset","find","Number","parseInt","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8757fea9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1LZj4\",\"image\":\"ImageGalleryItem_image__1qrtI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__x189y\",\"Modal\":\"Modal_Modal__tADRw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__38hss\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"CustomLoader_Loader__2Kdrt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__XciD8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3OZsp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Q9Y1\",\"SearchForm\":\"Searchbar_SearchForm__dHBZm\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2cS1x\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2z_6q\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2pe9j\"};","import Loader from 'react-loader-spinner';\nimport styles from './CustomLoader.module.css';\n\nfunction CustomLoader() {\n  return (\n    <Loader\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      className={styles.Loader}\n    />\n  );\n}\n\nexport default CustomLoader;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport styles from './Searchbar.module.css';\n\nfunction Searchbar({ searchFormSubmit }) {\n  const [searchInput, setSearchInput] = useState('');\n\n  const onChange = event => {\n    const { value } = event.target;\n    setSearchInput(value);\n  };\n\n  const formReset = () => {\n    setSearchInput('');\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    const normalizedSearchInput = searchInput.trim();\n    if (normalizedSearchInput === '') {\n      toast.error('Enter query');\n      return;\n    }\n    searchFormSubmit(normalizedSearchInput);\n    formReset();\n  };\n\n  return (\n    <header className={styles['Searchbar']}>\n      <form className={styles['SearchForm']} onSubmit={onSubmit}>\n        <button type=\"submit\" className={styles['SearchForm-button']}>\n          <span className={styles['SearchForm-button-label']}>Search</span>\n        </button>\n\n        <input\n          name=\"searchInput\"\n          value={searchInput}\n          onChange={onChange}\n          className={styles['SearchForm-input']}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  searchFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, src, alt, onClick }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        onClick={onClick}\n        className={styles.image}\n        data-id={id}\n        data-name=\"image\"\n      />\n    </li>\n  );\n}\nImageGalleryItem.defaultProps = {\n  alt: 'photo',\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, toggleModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          id={id}\n          src={webformatURL}\n          alt={tags}\n          onClick={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={styles.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nfunction Modal({ image, onClick }) {\n  return (\n    <div className={styles.Overlay} onClick={onClick} data-name=\"overlay\">\n      <div className={styles.Modal}>\n        <img src={image.largeImageURL} alt={image.tags} />\n      </div>\n    </div>\n  );\n}\n\nModal.defaultProps = {\n  image: {\n    alt: 'photo',\n  },\n};\n\nModal.propTypes = {\n  image: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\n//  ключ Никиты, с его ключем прилетают уникальные ответы, очень странно...\n// const API_KEY = \"3616495-8ef67a89dfdb2c2d531583fa2\";\n\nconst API_KEY = '18376090-d7378f6abd5315284a04e80ad';\nconst BASE_URL = 'https://pixabay.com/api';\naxios.defaults.baseURL = BASE_URL;\n\nfunction pixabayApiRequest(\n  userQuery = '',\n  page = 1,\n  per_page = 12,\n  image_type = 'photo',\n  orientation = 'horizontal',\n) {\n  const request = `/?key=${API_KEY}&q=${userQuery}&page=${page}&per_page=${per_page}&image_type=${image_type}&orientation=${orientation}`;\n\n  return axios(request)\n    .then(({ data }) => data.hits)\n    .catch(error => toast(error.massage));\n}\n\nexport default pixabayApiRequest;\n","import { useReducer, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport styles from './App.module.css';\nimport CustomLoader from '../CustomLoader/CustomLoader';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport pixabayApiRequest from '../../utils/pixabayApi/pixabayApI';\n\nconst initialState = {\n  userQuery: '',\n  images: [],\n  page: 1,\n  isLoading: false,\n  image: null,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'setImage':\n      return { ...state, image: action.payload };\n    case 'setIsLoading':\n      return { ...state, isLoading: action.payload };\n    case 'addImages':\n      return { ...state, images: [...state.images, ...action.payload] };\n    case 'addPage':\n      return { ...state, page: state.page + action.payload };\n    case 'formSubmit':\n      return { ...state, page: 1, images: [], userQuery: action.payload };\n\n    default:\n      throw new Error();\n  }\n}\n\nfunction App() {\n  const [{ userQuery, images, page, isLoading, image }, dispatch] = useReducer(\n    reducer,\n    initialState,\n  );\n\n  useEffect(() => {\n    const request = () => {\n      dispatch({ type: 'setIsLoading', payload: true });\n\n      pixabayApiRequest(userQuery, page)\n        .then(newImages => dispatch({ type: 'addImages', payload: newImages }))\n        .finally(dispatch({ type: 'setIsLoading', payload: false }));\n    };\n\n    request(userQuery);\n  }, [userQuery, page]);\n\n  useEffect(() => {\n    scrollToButton();\n  }, [images]);\n\n  useEffect(() => {\n    const closeModal = event => {\n      if (event.code === 'Escape') {\n        window.removeEventListener('keydown', closeModal);\n        dispatch({ type: 'setImage', payload: null });\n      }\n    };\n\n    image && window.addEventListener('keydown', closeModal);\n  }, [image]);\n\n  const onLoadMore = () => {\n    dispatch({ type: 'addPage', payload: 1 });\n  };\n\n  const searchFormSubmit = searchInput => {\n    dispatch({ type: 'formSubmit', payload: searchInput });\n  };\n\n  const scrollToButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = event => {\n    const { name, id } = event.target.dataset;\n\n    const image = images.find(image => Number.parseInt(id) === image.id);\n\n    if (name === 'image') dispatch({ type: 'setImage', payload: image });\n    if (name === 'overlay') dispatch({ type: 'setImage', payload: null });\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar searchFormSubmit={searchFormSubmit} />\n      {images.length > 0 && (\n        <ImageGallery images={images} toggleModal={toggleModal} />\n      )}\n      {isLoading && <CustomLoader />}\n      {images.length > 0 && !isLoading && <Button onClick={onLoadMore} />}\n      {images.length === 0 && !isLoading && <div>Nothing found</div>}\n      {image && <Modal image={image} onClick={toggleModal} />}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}